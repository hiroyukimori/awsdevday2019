# Demo4 - Containers

## Docker

* Dockerとはアプリケーションを開発、発行、実行することができるオープンなプラットフォーム。
* Dockerイメージコンテナは、LinuxおよびWindows上でネイティブに動作することができる自己完結型のコンテナー。
  * ただし、LinuxのImageはLinux上のホストで、WindowsのイメージはWindows上のホスト上でのみ実行することができる
* Dockerはアプリケーションに必要な環境を１つのイメージにまとめ、そのイメージをしようしてアプリケーションの実行環境を構築運用できる。
  * つまり、アプリケーションの実行場所をインフラから分離することができる。
* Dockerを使用しても、従来のインフラと同様の方法でアプリケーションを管理することができる

### Dockerを利用した開発の流れ

* プログラマはアプリケーションの実行に必要なすべてが含まれるコンテナーイメージを作成する
  * このコンテナーイメージがひな形となる
* 作成したイメージを元にコンテナーを動作させる
  * 作成したイメージはOS環境に互換があり、コンテナーが動作する環境であればどこでも動作する
  * 開発環境で動作したけど、本番環境で動作しないといったリスクを軽減することができる
* アプリケーションの開発環境からテスト環境、本番環境へのデプロイをアプリケーションエンジニアによって行うことができる
* これらは３つのステップにまとめられる
    1. Build (コンテナーアプリケーションのビルド)
    2. Ship (コンテナーイメージの共有)
    3. Run (コンテナーアプリケーションの実行)

## Demo

1. Docker Desktop Communityをインストール
2. Dockerの[Setting]からShare Driveで実行用ディスクを有効にする
3. Visual Studio 2019を起動
4. ASP.NET Core MVCプロジェクトを作成 (Dockerを使用)
5. ローカル環境で実行
6. (参考)AWS Publish Containersを確認
7. [フルマネージドなAWSサービスで実現するコンテナへの継続的デリバリー](https://confengine.com/devopsdays-tokyo-2018/proposal/6025/aws)
